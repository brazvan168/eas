<!DOCTYPE html>
<html lang="en">
  <head>
    <link href="style.css" type="text/css" rel="stylesheet" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Etch-A-Sketch</title>
  </head>
  <body>
    <button id="reset">Reset</button><br />
    <div id="container"></div>
    <script>
      "use strict";
      const container = document.querySelector("#container");
      const reset = document.querySelector("#reset");
      const div = document.createElement("div");

      let currentNumber = 16;
      createGrid(16);

      function createGrid(number) {
        currentNumber = number;
        container.setAttribute(
          "style",
          `border:1px solid black;display:grid; grid-template-columns:repeat(${number},1fr); grid-template-rows:repeat(${number},1fr);width:500px;height:500px;margin:0 auto;`
        );

        div.classList.add("squares");
        div.setAttribute(
          "style",
          "border:1px solid red;width:100%;height:100%;"
        );
        for (let i = 0; i < number; i++) {
          for (let j = 0; j < number; j++)
            container.appendChild(div.cloneNode(true));
        }
        let squares = document.querySelectorAll(".squares");
        squares.forEach((square) => {
          square.addEventListener("mouseover", () => {
            toBlack(square);
          });
        });
      }
      function toBlack(elem) {
        elem.classList.add("black");
      }
      reset.addEventListener("click", () => {
        let gridNumber = prompt("Enter the number of squares:");
        if (gridNumber != null) {
          while (container.firstChild) {
            container.removeChild(container.firstChild);
          }
          createGrid(gridNumber);
        } else {
          while (container.firstChild) {
            container.removeChild(container.firstChild);
          }
          createGrid(currentNumber);
        }
      });
    </script>
  </body>
</html>
